---
title: "Analiza działania algorytmów minimalizacji stochastycznej"
author:
- Patryk Klatka
- Szymon Twardosz
output: html_notebook
---

[//]: # (PDF Render: output: pdf_document )

```{r, setup, echo=FALSE, message=FALSE, warning=FALSE}
# Include libraries
library(smoof)
library(GA)
```

## Wstęp
Projekt ma na celu analizę działania algorytmów minimalizacji stochastycznej dwóch algorytmów: PRS (Pure Random Search) oraz GA (Genetic Algorithm).
Oba algorytmy były testowane na dwóch funkcjach z pakietu `smoof` z wymiarami: 2,10,20.
Każdy algorytm został uruchomiony 50 razy, a każde uruchomienie miało 1000 wywołań.
Każda funkcja była testowana na dwóch algorytmach, a wyniki zostały porównane pod kątem średnich znalezionych minimów, położenia rozkładu wyników oraz istotności statystycznej różnicy między średnim wynikiem obu algorytmów.
Analizy statystyczne zostały wykonane na poziomie istotności 0,05.

## Testowane funkcje

W celu przetestowania algorytmów zostały wybrane dwie funkcje z pakietu `smoof`: funkcja [Rosenbrocka](https://jakobbossek.github.io/smoof/reference/makeRosenbrockFunction.html) oraz [Rastrigina](https://jakobbossek.github.io/smoof/reference/makeRastriginFunction.html).
Każda funkcja została wygenerowana na trzech różnych wymiarach: 2, 10, 20.
Dziedziny funkcji, zgodnie z dokumentacją, wynoszą:

- Funkcja Rosenbrocka: $x_i \in [−30,30]$ dla $i = 1, 2, \dots, n$
- Funkcja Rastrigina: $x_i \in [−5.12,5.12]$ dla $i = 1, 2, \dots, n$

gdzie $n$ oznacza wymiar funkcji.
```{r}
# Rosenbrock function
rosenbrock_2D <- makeRosenbrockFunction(dimensions = 2L)
rosenbrock_10D <- makeRosenbrockFunction(dimensions = 10L)
rosenbrock_20D <- makeRosenbrockFunction(dimensions = 20L)

# Rastrigin function
rastrigin_2D <- makeRastriginFunction(dimensions = 2L)
rastrigin_10D <- makeRastriginFunction(dimensions = 10L)
rastrigin_20D <- makeRastriginFunction(dimensions = 20L)
```
## Algorytm PRS (Pure Random Search)

Opis algorytmu.

### Implementacja

```{r}
prs_algorithm <- function(f, cost = 1000L) {
  # f - function to minimize
  # cost - maximum number of iterations
  # returns: minimum function value f(min)
  return(9)
}
```
### Średni wynik algorytmu dla odpowiednich funkcji oraz wymiarów

```{r}
number_of_calculations <- 50L

prs_rosenbrock_2D <- replicate(number_of_calculations, prs_algorithm(rosenbrock_2D))
prs_rosenbrock_10D <- replicate(number_of_calculations, prs_algorithm(rosenbrock_10D))
prs_rosenbrock_20D <- replicate(number_of_calculations, prs_algorithm(rosenbrock_20D))

prs_rastrigin_2D <- replicate(number_of_calculations, prs_algorithm(rastrigin_2D))
prs_rastrigin_10D <- replicate(number_of_calculations, prs_algorithm(rastrigin_10D))
prs_rastrigin_20D <- replicate(number_of_calculations, prs_algorithm(rastrigin_20D))
```

## Algorytm GA (Genetic Algorithm)

Opis algorytmu.


### Implementacja

```{r}
ga_algorithm <- function(f, cost = 1000){
  # f - function to minimize
  # returns: list with minimum value and its position
  result <- ga(type = "real-valued",
               fitness =  function(x) -f(x),
               lower =  getLowerBoxConstraints(f), upper = getUpperBoxConstraints(f), maxiter = cost, run = cost)

  return(f(result@solution))
}

```

### Średni wynik algorytmu dla odpowiednich funkcji oraz wymiarów

```{r}
number_of_calculations <- 50L

ga_rosenbrock_2D <- replicate(number_of_calculations, ga_algorithm(rosenbrock_2D))
ga_rosenbrock_10D <- replicate(number_of_calculations, ga_algorithm(rosenbrock_10D))
ga_rosenbrock_20D <- replicate(number_of_calculations, ga_algorithm(rosenbrock_20D))

ga_rastrigin_2D <- replicate(number_of_calculations, ga_algorithm(rastrigin_2D))
ga_rastrigin_10D <- replicate(number_of_calculations, ga_algorithm(rastrigin_10D))
ga_rastrigin_20D <- replicate(number_of_calculations, ga_algorithm(rastrigin_20D))
```
## Analiza wyników pod kątem położenia i rozproszenia rozkładu

### Funkcja Rosenbrocka

#### Wymiar 2D
#### Wymiar 10D
#### Wymiar 20D

### Funkcja Rastrigina

#### Wymiar 2D
#### Wymiar 10D
#### Wymiar 20D

## Analiza istotności statystycznej różnicy między średnim wynikiem

### Funkcja Rosenbrocka

#### Wymiar 2D
#### Wymiar 10D
#### Wymiar 20D

### Funkcja Rastrigina

#### Wymiar 2D
#### Wymiar 10D
#### Wymiar 20D